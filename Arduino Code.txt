// Use Cases
// Use analog input for sensors that provide variable voltage, such as light sensors or potentiometers.
// Use digital input for devices like buttons or switches.
// Use analog output (PWM) for controlling brightness or motor speed.
// Use digital output for turning devices like LEDs on or off.

// PCA9685 
#include <Wire.h>
#include <Adafruit_PWMServoDriver.h>
#include <ezButton.h>	// For button input

Adafruit_PWNServoDriver pwm;

#define NUM_SERVOS 3	// Updated to control 3 servos
#define SERVO_MIN ;	// Missing value
#define SERVO_MAX ;	// Missing value
#define SERVO_DELAY ;	// Missing value (Delay in milliseconds)

int servoPins[NUM_SERVOS] = {0, 1, 2};	// #define SERVO_CH 0; for individual control



// Joystick Module
#define VRX_PIN  A0	// Arduino pin connected to VRX pin
#define VRY_PIN  A1	// Arduino pin connected to VRY pin



// Rotary Encoder
#define CLK_PIN 3	// Arduino pin connected to CLK pin
#define DT_PIN 4	// Arduino pin connected to DT pin
#define SW_PIN 5	// Arduino pin connected to SW pin



void setup() {
	Serial.begin(9600);
	Serial.println("Swashplate Servo Control");

	pwm.begin();
	pwm.setFrequency(50);	// Set the PWM frequency for the PCA9685

// Initialize all servos to their minimum positions during setup
	for (int i = 0, i < NUM_SERVOS; i++) {
		pwm.setPWM(servoPins[i], 0, SERVO_MIN);
	}
}

void loop() {
	delay(100);

// Read analog X and Y analog values
 	int xValue = analogRead(VRX_PIN);
  	int yValue = analogRead(VRY_PIN);

// TEMPORARY
	xServo.write(xAngle); // rotate servo motor 1
 	yServo.write(yAngle); // rotate servo motor 2


// TEMPORARY
	int xAngle = map(xValue, 0, 1023, 0, 180); // scale it to the servo's angle (0 to 180)
	int yAngle = map(yValue, 0, 1023, 0, 180); // scale it to the servo's angle (0 to 180)
// Print data to Serial Monitor on Arduino IDE
	Serial.print("Joystick: ");
	Serial.print(xValue);
	Serial.print(", ");
	Serial.print(yValue);
	Serial.print(" => Servo Motor: ");
	Serial.print(xAngle);
	Serial.print("°, ");
	Serial.print(yAngle);
	Serial.println("°");
}